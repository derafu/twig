{# templates/components/block-steps.html.twig #}
<section class="block-steps theme-{{ this.theme }}">
    <div class="container">
        <div class="block-steps__container">
            {% for step in this.steps %}
                {# Paso #}
                <div class="block-steps__step">
                    <div class="block-steps__icon">
                        <i class="{{ step.icon }}"></i>
                    </div>
                    <h3 class="block-steps__title">{{ step.title }}</h3>
                    <div class="block-steps__description">
                        {{ step.description|raw }}
                    </div>
                </div>

                {# Flecha entre pasos (excepto el Ãºltimo) #}
                {% if not loop.last %}
                    <div class="block-steps__arrow">
                        {% if this.arrow_type == 'curved' %}
                            {% if loop.index is odd %}
                                {# Curva hacia arriba #}
                                <svg viewBox="0 0 60 20" class="block-steps__arrow-curved">
                                    <path d="M 5,15 Q 30,0 50,15"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="1"
                                        stroke-linecap="round"/>
                                    <path d="M 45,17 L 50,15 L 48,10"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="1"
                                        stroke-linecap="round"/>
                                </svg>
                            {% else %}
                                {# Curva hacia abajo #}
                                <svg viewBox="0 0 60 20" class="block-steps__arrow-curved">
                                    <path d="M 5,5 Q 30,20 50,5"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="1"
                                        stroke-linecap="round"/>
                                    <path d="M 45,3 L 50,5 L 48,10"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="1"
                                        stroke-linecap="round"/>
                                </svg>
                            {% endif %}
                        {% else %}
                            <svg viewBox="0 0 100 20" class="block-steps__arrow-straight">
                                <line x1="0" y1="10" x2="100" y2="10"
                                    stroke="currentColor"
                                    stroke-width="1"/>
                                <path d="M 90,5 L 100,10 L 90,15"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="1"/>
                            </svg>
                        {% endif %}
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</section>
